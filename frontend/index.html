<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>E-Vault Law Management System</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Libre+Baskerville:wght@400;700&family=Montserrat:wght@400;500;600;700&display=swap">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <link rel="stylesheet" href="/css/law-theme.css">
  <link rel="stylesheet" href="/css/enhanced-styles.css">
</head>
<body>
  <header>
    <nav>
      <div class="logo">
        <i class="fas fa-gavel logo-icon"></i>
        E-Vault Law
      </div>
      <ul>
        <li><a href="#" id="home-link"><i class="fas fa-home"></i> Home</a></li>
        <li><a href="#" id="login-link"><i class="fas fa-sign-in-alt"></i> Login</a></li>
        <li><a href="#" id="register-link"><i class="fas fa-user-plus"></i> Register</a></li>
        <li><a href="#" id="view-transactions-btn"><i class="fas fa-exchange-alt"></i> Transactions</a></li>
        <li><span id="wallet-status" class="wallet-status" style="display: none;"></span></li>
        <li><span id="network-info" class="network-info"></span></li>
      </ul>
    </nav>
  </header>

  <main class="container">
    <!-- Home Section -->
    <section id="home-section">
      <div class="hero">
        <div class="hero-content">
          <h1>E-Vault Law Management System</h1>
          <p>A blockchain-based platform for secure and transparent management of legal cases and documents.</p>
          <div>
            <button class="btn btn-primary" id="login-btn"><i class="fas fa-sign-in-alt"></i> Login</button>
            <button class="btn" id="register-btn"><i class="fas fa-user-plus"></i> Register</button>
            <button class="btn" id="view-cases-btn" style="background-color: #3b82f6; color: white;"><i class="fas fa-briefcase"></i> View All Cases</button>
          </div>
        </div>
      </div>

      <div class="law-quote">
        "Justice will not be served until those who are unaffected are as outraged as those who are."
        <cite>â€” Benjamin Franklin</cite>
      </div>

      <div class="card-grid">
        <div class="card">
          <h2><i class="fas fa-shield-alt"></i> Secure Document Storage</h2>
          <p>All legal documents are securely stored using blockchain technology, ensuring immutability and protection against tampering.</p>
        </div>
        <div class="card">
          <h2><i class="fas fa-balance-scale"></i> Transparent Case Management</h2>
          <p>Track case progress, hearings, and updates in real-time with complete transparency for all parties involved.</p>
        </div>
        <div class="card">
          <h2><i class="fas fa-users"></i> Role-Based Access</h2>
          <p>Different access levels for judges, lawyers, and clients ensure proper information security and privacy.</p>
        </div>
      </div>

      <div class="card">
        <h2><i class="fas fa-database"></i> Pre-populated Data</h2>
        <p>The system comes pre-populated with:</p>
        <ul>
          <li><strong>25 Judges</strong> - Including Judge Smith and Judge Patel</li>
          <li><strong>50 Lawyers</strong> - Including John Doe, Jane Smith, and Robert Johnson</li>
          <li><strong>30 Clients</strong> - Including Alice Brown and Bob Wilson</li>
          <li><strong>100 Cases</strong> - With different statuses and document types</li>
        </ul>
        <div style="margin-top: 1rem;">
          <button class="btn" id="view-lawyers-btn" style="background-color: #3b82f6; color: white;"><i class="fas fa-user-tie"></i> View All Lawyers</button>
        </div>
      </div>
    </section>

    <!-- Login Section -->
    <section id="login-section" style="display: none;">
      <div class="login-form">
        <h2><i class="fas fa-sign-in-alt"></i> Login to E-Vault</h2>
        
        <div class="wallet-connect-options">
          <h3>Connect Your Wallet</h3>
          <div class="wallet-option">
            <input type="radio" id="wallet-option-metamask" name="wallet-option" value="metamask" checked>
            <label for="wallet-option-metamask">Connect with MetaMask</label>
          </div>
          <div class="wallet-option">
            <input type="radio" id="wallet-option-manual" name="wallet-option" value="manual">
            <label for="wallet-option-manual">Enter Wallet Address Manually</label>
          </div>
        </div>
        
        <div id="metamask-connect-section" class="wallet-connect">
          <button class="btn btn-metamask" id="connect-metamask">
            <img src="https://metamask.io/images/metamask-fox.svg" alt="MetaMask">
            Connect with MetaMask
          </button>
          <p id="wallet-status-login" class="wallet-status-text wallet-disconnected">Not connected</p>
        </div>
        
        <div id="manual-wallet-section" class="wallet-connect" style="display: none;">
          <div class="form-group">
            <label for="manual-wallet-address">Wallet Address</label>
            <input type="text" id="manual-wallet-address" placeholder="Enter your Ethereum wallet address (0x...)">
            <button class="btn btn-secondary" id="save-manual-wallet">Save Address</button>
          </div>
          <p id="manual-wallet-status" class="wallet-status-text">No address entered</p>
        </div>
        
        <div class="form-group">
          <label for="login-email">Email</label>
          <input type="email" id="login-email" placeholder="Enter your email">
        </div>
        <div class="form-group">
          <label for="login-id">ID (Bar ID or Judicial ID)</label>
          <input type="text" id="login-id" placeholder="Enter your ID (leave empty if client)">
        </div>
        <div class="form-group">
          <button class="btn btn-primary" id="login-submit">Login</button>
        </div>
        <p id="login-error" class="error"></p>
        <p>Don't have an account? <a href="#" id="to-register">Register here</a></p>
      </div>
    </section>

    <!-- Register Section -->
    <section id="register-section" style="display: none;">
      <div class="login-form">
        <h2><i class="fas fa-user-plus"></i> Register for E-Vault</h2>
        <div class="form-group">
          <button class="btn btn-metamask" id="connect-metamask-register">
            <img src="https://metamask.io/images/metamask-fox.svg" alt="MetaMask">
            Connect with MetaMask
          </button>
          <p id="wallet-status-register" class="wallet-status-text wallet-disconnected">Not connected</p>
        </div>
        <div class="form-group">
          <label for="register-name">Full Name</label>
          <input type="text" id="register-name" placeholder="Enter your full name">
        </div>
        <div class="form-group">
          <label for="register-email">Email</label>
          <input type="email" id="register-email" placeholder="Enter your email">
        </div>
        <div class="form-group">
          <label for="register-role">Role</label>
          <select id="register-role">
            <option value="">-- Select Role --</option>
            <option value="client">Client</option>
            <option value="lawyer">Lawyer</option>
            <option value="judge">Judge</option>
          </select>
        </div>
        <div class="form-group" id="id-field" style="display: none;">
          <label for="register-id">ID (Bar ID or Judicial ID)</label>
          <input type="text" id="register-id" placeholder="Enter your ID">
        </div>
        <div class="form-group">
          <button class="btn btn-primary" id="register-submit">Register</button>
        </div>
        <p id="register-error" class="error"></p>
        <p>Already have an account? <a href="#" id="to-login">Login here</a></p>
      </div>
    </section>

    <!-- All Cases Section -->
    <section id="all-cases-section" style="display: none;">
      <h1>All Registered Cases</h1>
      <div class="card">
        <div class="form-group">
          <input type="text" id="case-search" placeholder="Search cases..." style="margin-bottom: 1rem;">
        </div>
        <table id="all-cases-table">
          <thead>
            <tr>
              <th>Case ID</th>
              <th>Title</th>
              <th>Status</th>
              <th>Filed By</th>
              <th>Assigned To</th>
              <th>Judge</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody id="all-cases-body">
            <!-- Cases will be loaded here -->
          </tbody>
        </table>
      </div>
      <button class="btn" id="back-to-home" style="margin-top: 1rem;">Back to Home</button>
    </section>
    
    <!-- Case Details Section -->
    <section id="case-details-section" style="display: none;">
      <h1>Case Details</h1>
      <div class="card">
        <div id="case-details-content">
          <!-- Case details will be loaded here -->
        </div>
      </div>
      <button class="btn" id="back-to-cases" style="margin-top: 1rem;">Back to Cases</button>
    </section>
    
    <!-- Lawyers List Section -->
    <section id="lawyers-section" style="display: none;">
      <h1>All Lawyers</h1>
      <div class="card">
        <div class="form-group">
          <input type="text" id="lawyer-search" placeholder="Search lawyers..." style="margin-bottom: 1rem;">
        </div>
        <div class="card-grid" id="lawyers-grid">
          <!-- Lawyers will be loaded here -->
        </div>
      </div>
      <button class="btn" id="back-to-home-from-lawyers" style="margin-top: 1rem;">Back to Home</button>
    </section>

    <!-- Lawyer Dashboard Section -->
    <section id="lawyer-dashboard" style="display: none;">
      <div class="dashboard-container">
        <aside class="sidebar">
          <div class="user-info">
            <div class="avatar" id="lawyer-avatar">JD</div>
            <h3 id="lawyer-name">John Doe</h3>
            <p id="lawyer-role">Lawyer</p>
            <p id="lawyer-id">BAR001</p>
          </div>
          <ul class="sidebar-menu">
            <li><a href="#" class="active" id="lawyer-dashboard-link"><i class="fas fa-tachometer-alt"></i> Dashboard</a></li>
            <li><a href="#" id="lawyer-cases-link"><i class="fas fa-briefcase"></i> My Cases</a></li>
            <li><a href="#" id="lawyer-documents-link"><i class="fas fa-file-alt"></i> Documents</a></li>
            <li><a href="#" id="lawyer-add-case-link"><i class="fas fa-plus-circle"></i> Add New Case</a></li>
            <li><a href="#" id="lawyer-profile-link"><i class="fas fa-user"></i> Profile</a></li>
            <li><a href="#" id="lawyer-logout"><i class="fas fa-sign-out-alt"></i> Logout</a></li>
          </ul>
        </aside>

        <div class="main-content">
          <div class="stats-grid">
            <div class="stat-card">
              <h3>Active Cases</h3>
              <p id="lawyer-active-cases">3</p>
            </div>
            <div class="stat-card">
              <h3>Pending Documents</h3>
              <p id="lawyer-pending-docs">5</p>
            </div>
            <div class="stat-card">
              <h3>Upcoming Hearings</h3>
              <p id="lawyer-upcoming-hearings">2</p>
            </div>
          </div>

          <div class="card">
            <h2><i class="fas fa-history"></i> Recent Activity</h2>
            <ul class="timeline">
              <li class="timeline-item">
                <p class="timeline-date">Today</p>
                <p class="timeline-content">Document uploaded: Contract_Agreement.pdf for Case #1</p>
                <p class="timeline-by">By: You</p>
              </li>
              <li class="timeline-item">
                <p class="timeline-date">Yesterday</p>
                <p class="timeline-content">Hearing scheduled for Case #2 on May 22, 2023</p>
                <p class="timeline-by">By: Court Clerk</p>
              </li>
              <li class="timeline-item">
                <p class="timeline-date">3 days ago</p>
                <p class="timeline-content">Case #1 status changed to "In Progress"</p>
                <p class="timeline-by">By: Judge Smith</p>
              </li>
            </ul>
          </div>

          <div class="card">
            <h2><i class="fas fa-calendar-alt"></i> Upcoming Hearings</h2>
            <table id="lawyer-hearings-table">
              <thead>
                <tr>
                  <th>Date</th>
                  <th>Time</th>
                  <th>Case</th>
                  <th>Court Room</th>
                  <th>Judge</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>May 15, 2023</td>
                  <td>10:00 AM</td>
                  <td>ABC Corp vs. Property Developer</td>
                  <td>Room 302</td>
                  <td>Judge Smith</td>
                </tr>
                <tr>
                  <td>May 22, 2023</td>
                  <td>2:30 PM</td>
                  <td>XYZ Enterprises vs. Software Inc.</td>
                  <td>Room 405</td>
                  <td>Judge Patel</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </section>

    <!-- Judge Dashboard Section -->
    <section id="judge-dashboard" style="display: none;">
      <div class="dashboard-container">
        <aside class="sidebar">
          <div class="user-info">
            <div class="avatar" id="judge-avatar">JS</div>
            <h3 id="judge-name">Judge Smith</h3>
            <p id="judge-role">Judge</p>
            <p id="judge-id">JID001</p>
          </div>
          <ul class="sidebar-menu">
            <li><a href="#" class="active" id="judge-dashboard-link"><i class="fas fa-tachometer-alt"></i> Dashboard</a></li>
            <li><a href="#" id="judge-cases-link"><i class="fas fa-gavel"></i> Assigned Cases</a></li>
            <li><a href="#" id="judge-hearings-link"><i class="fas fa-calendar-alt"></i> Hearings</a></li>
            <li><a href="#" id="judge-documents-link"><i class="fas fa-file-alt"></i> Documents</a></li>
            <li><a href="#" id="judge-profile-link"><i class="fas fa-user"></i> Profile</a></li>
            <li><a href="#" id="judge-logout"><i class="fas fa-sign-out-alt"></i> Logout</a></li>
          </ul>
        </aside>

        <div class="main-content">
          <div class="stats-grid">
            <div class="stat-card">
              <h3>Assigned Cases</h3>
              <p id="judge-assigned-cases">5</p>
            </div>
            <div class="stat-card">
              <h3>Pending Hearings</h3>
              <p id="judge-pending-hearings">3</p>
            </div>
            <div class="stat-card">
              <h3>Cases Closed</h3>
              <p id="judge-closed-cases">12</p>
            </div>
          </div>

          <div class="card">
            <h2><i class="fas fa-gavel"></i> Assigned Cases</h2>
            <table id="judge-cases-table">
              <thead>
                <tr>
                  <th>Case ID</th>
                  <th>Title</th>
                  <th>Lawyer</th>
                  <th>Status</th>
                  <th>Next Hearing</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>1</td>
                  <td>ABC Corp vs. Property Developer</td>
                  <td>John Doe</td>
                  <td><span class="status status-in-progress">In Progress</span></td>
                  <td>May 15, 2023</td>
                  <td><button class="btn">View</button></td>
                </tr>
                <tr>
                  <td>3</td>
                  <td>ABC Corp vs. Supplier Co.</td>
                  <td>Robert Johnson</td>
                  <td><span class="status status-registered">Registered</span></td>
                  <td>June 5, 2023</td>
                  <td><button class="btn">View</button></td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </section>

    <!-- Client Dashboard Section -->
    <section id="client-dashboard" style="display: none;">
      <div class="dashboard-container">
        <aside class="sidebar">
          <div class="user-info">
            <div class="avatar" id="client-avatar">AB</div>
            <h3 id="client-name">Alice Brown</h3>
            <p id="client-role">Client</p>
            <p id="client-company">ABC Corporation</p>
          </div>
          <ul class="sidebar-menu">
            <li><a href="#" class="active" id="client-dashboard-link"><i class="fas fa-tachometer-alt"></i> Dashboard</a></li>
            <li><a href="#" id="client-cases-link"><i class="fas fa-briefcase"></i> My Cases</a></li>
            <li><a href="#" id="client-register-case-link"><i class="fas fa-plus-circle"></i> Register New Case</a></li>
            <li><a href="#" id="client-documents-link"><i class="fas fa-file-alt"></i> Documents</a></li>
            <li><a href="#" id="client-profile-link"><i class="fas fa-user"></i> Profile</a></li>
            <li><a href="#" id="client-logout"><i class="fas fa-sign-out-alt"></i> Logout</a></li>
          </ul>
        </aside>

        <div class="main-content">
          <div class="stats-grid">
            <div class="stat-card">
              <h3>Active Cases</h3>
              <p id="client-active-cases">2</p>
            </div>
            <div class="stat-card">
              <h3>Documents</h3>
              <p id="client-documents">8</p>
            </div>
            <div class="stat-card">
              <h3>Upcoming Hearings</h3>
              <p id="client-upcoming-hearings">2</p>
            </div>
          </div>

          <div class="card">
            <h2><i class="fas fa-briefcase"></i> My Cases</h2>
            <table id="client-cases-table">
              <thead>
                <tr>
                  <th>Case ID</th>
                  <th>Title</th>
                  <th>Status</th>
                  <th>Lawyer</th>
                  <th>Judge</th>
                  <th>Next Hearing</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>1</td>
                  <td>ABC Corp vs. Property Developer</td>
                  <td><span class="status status-in-progress">In Progress</span></td>
                  <td>John Doe</td>
                  <td>Judge Smith</td>
                  <td>May 15, 2023</td>
                  <td><button class="btn">View</button></td>
                </tr>
                <tr>
                  <td>3</td>
                  <td>ABC Corp vs. Supplier Co.</td>
                  <td><span class="status status-registered">Registered</span></td>
                  <td>Robert Johnson</td>
                  <td>Judge Smith</td>
                  <td>June 5, 2023</td>
                  <td><button class="btn">View</button></td>
                </tr>
              </tbody>
            </table>
          </div>

          <div class="card">
            <h2><i class="fas fa-file-alt"></i> Recent Documents</h2>
            <ul class="document-list">
              <li>
                <i class="fas fa-file-pdf"></i>
                <span>Contract_Agreement.pdf</span>
                <span class="document-date">Uploaded on May 10, 2023</span>
                <button class="btn btn-small">View</button>
              </li>
              <li>
                <i class="fas fa-file-pdf"></i>
                <span>Property_Deed.pdf</span>
                <span class="document-date">Uploaded on May 5, 2023</span>
                <button class="btn btn-small">View</button>
              </li>
              <li>
                <i class="fas fa-file-pdf"></i>
                <span>Supply_Agreement.pdf</span>
                <span class="document-date">Uploaded on April 20, 2023</span>
                <button class="btn btn-small">View</button>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- Register New Case Section -->
    <section id="register-case-section" style="display: none;">
      <h1>Register New Case</h1>
      <div class="card">
        <div class="login-form" style="max-width: 600px;">
          <h2>Case Information</h2>
          <div class="form-group">
            <label for="case-title">Case Title</label>
            <input type="text" id="case-title" placeholder="Enter case title">
          </div>
          <div class="form-group">
            <label for="case-description">Case Description</label>
            <textarea id="case-description" placeholder="Enter case description" style="width: 100%; height: 100px; padding: 0.75rem; border: 1px solid #d1d5db; border-radius: 5px; font-size: 1rem;"></textarea>
          </div>
          <div class="form-group">
            <label for="case-type">Case Type</label>
            <select id="case-type">
              <option value="">-- Select Case Type --</option>
              <option value="Civil - Property Dispute">Civil - Property Dispute</option>
              <option value="Civil - Contract Dispute">Civil - Contract Dispute</option>
              <option value="Civil - Intellectual Property">Civil - Intellectual Property</option>
              <option value="Criminal - Fraud">Criminal - Fraud</option>
              <option value="Criminal - Theft">Criminal - Theft</option>
              <option value="Family - Divorce">Family - Divorce</option>
              <option value="Family - Child Custody">Family - Child Custody</option>
              <option value="Employment - Discrimination">Employment - Discrimination</option>
              <option value="Employment - Wrongful Termination">Employment - Wrongful Termination</option>
              <option value="Corporate - Acquisition">Corporate - Acquisition</option>
            </select>
          </div>
          <div class="form-group">
            <label for="case-lawyer">Assign Lawyer</label>
            <select id="case-lawyer">
              <option value="">-- Select Lawyer --</option>
              <!-- Lawyers will be loaded here -->
            </select>
          </div>
          <div class="form-group">
            <button class="btn" id="register-case-submit">Register Case</button>
          </div>
          <p id="register-case-error" class="error"></p>
        </div>
      </div>
      <button class="btn" id="back-to-client-dashboard" style="margin-top: 1rem;">Back to Dashboard</button>
    </section>
    
    <!-- Transactions Section -->
    <section id="transactions-section" style="display: none;">
      <h1>Blockchain Transactions</h1>
      <div class="card">
        <div class="blockchain-info">
          <p><strong>Network:</strong> <span id="network-info-detail">Sepolia Testnet</span></p>
          <p><strong>Contract Address:</strong> <a id="contract-address-link" href="#" target="_blank"></a></p>
        </div>
        <table id="transactions-table">
          <thead>
            <tr>
              <th>Type</th>
              <th>Details</th>
              <th>Block</th>
              <th>Date</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody id="transactions-body">
            <!-- Transactions will be loaded here -->
          </tbody>
        </table>
      </div>
      <button class="btn" id="back-to-home-from-transactions" style="margin-top: 1rem;">Back to Home</button>
    </section>
  </main>

  <footer>
    <p>&copy; 2023 E-Vault Law Management System. All rights reserved.</p>
  </footer>

  <script src="https://cdn.ethers.io/lib/ethers-5.2.umd.min.js" type="application/javascript"></script>
  <script src="https://unpkg.com/ipfs-http-client/dist/index.min.js"></script>
  <script src="/js/login.js"></script>
  <script src="/js/metamask.js"></script>
  <script src="/js/blockchain.js"></script>
  <script src="/js/cases-display.js"></script>
  <script src="/js/case-registration.js"></script>
  <script src="/js/document-upload.js"></script>
  <script src="/js/transactions.js"></script>
</body>
</html>